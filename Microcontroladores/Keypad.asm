ORG 00H
MOV DPTR,#LUT ;// 
MOV A,#11111111B ;// 
MOV P1,#00000000B ;//

BACK:MOV P3,#11111111B ;// 
     CLR P3.0  ;// 
     JB P3.4,NEXT1  ;// 
     MOV A,#0D   ;// 
     ACALL DISPLAY  ;// 
NEXT1:JB P3.5,NEXT2 ;// 
      MOV A,#1D
      ACALL DISPLAY
NEXT2:JB P3.6,NEXT3
      MOV A,#2D
      ACALL DISPLAY
NEXT3:JB P3.7,NEXT4
      MOV A,#3D
      ACALL DISPLAY
NEXT4:SETB P3.0
      CLR P3.1
      JB P3.4,NEXT5
      MOV A,#4D
      ACALL DISPLAY
NEXT5:JB P3.5,NEXT6
      MOV A,#5D
      ACALL DISPLAY
NEXT6:JB P3.6,NEXT7
      MOV A,#6D
      ACALL DISPLAY
NEXT7:JB P3.7,NEXT8
      MOV A,#7D
      ACALL DISPLAY
NEXT8:SETB P3.1
      CLR P3.2
      JB P3.4,NEXT9
      MOV A,#8D
      ACALL DISPLAY
NEXT9:JB P3.5,NEXT10
      MOV A,#9D
      ACALL DISPLAY
NEXT10:JB P3.6,NEXT11
       MOV A,#10D
       ACALL DISPLAY
NEXT11:JB P3.7,NEXT12
       MOV A,#11D
       ACALL DISPLAY
NEXT12:SETB P3.2
       CLR P3.3
       JB P3.4,NEXT13
       MOV A,#12D
       ACALL DISPLAY
NEXT13:JB P3.5,NEXT14
       MOV A,#13D
       ACALL DISPLAY
NEXT14:JB P3.6,NEXT15
       MOV A,#14D
       ACALL DISPLAY
NEXT15:JB P3.7,BACK
       MOV A,#15D
       ACALL DISPLAY
       LJMP BACK


DISPLAY:MOVC A,@A+DPTR ;// g
        MOV P1,A       ;// 
        RET

LUT: DB 00000001B 
     DB 00000010B
     DB 00000011B
     DB 00001010B
     DB 00000100B
     DB 00000101B
     DB 00000110B
     DB 00001011B
     DB 00000111B
     DB 00001000B
     DB 00001001B
     DB 00001100B
     DB 00001110B
     DB 00000000B
     DB 00001111B
     DB 00001101B
     END